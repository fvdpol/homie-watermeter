# homie-watermeter
esp8266/mqtt watermeter using homie platform

# Objective

Enable read-out of the water meter to get measurement of this meter in OpenHAB using mqtt messages.

# Tools used
- ESP8266 dev board (Wemos D1 mini)
- Homie-esp8266 framework / platformIO
- TCRT5000 reflection sensor
- OpenHAB script for persistence



## OpenHAB Setup

.. todo: example items

... script



## Schematic

![Schematic](https://github.com/fvdpol/homie-watermeter/blob/master/images/schematic.PNG?raw=true)




## Pictures

Water Meter without the sensor:
![Water Meter](https://github.com/fvdpol/homie-watermeter/blob/master/images/meter_plain.jpg?raw=true)


Top view of the sensor board:
![Board top side](https://github.com/fvdpol/homie-watermeter/blob/master/images/board_top.jpg?raw=true)


Bottom view of the sensor board:
![Board back side](https://github.com/fvdpol/homie-watermeter/blob/master/images/board_back.jpg?raw=true)


Water Meter with the sensor installed:
![Water Meter with sensor](https://github.com/fvdpol/homie-watermeter/blob/master/images/meter_with_sensor.jpg?raw=true)
